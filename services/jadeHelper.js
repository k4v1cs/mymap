/*Helper middlewares for expert*/var url = require('url');module.exports.isEmptyMiddleware = isEmpty;module.exports.setQueryMiddleware = setQuery;module.exports.makeUrlWithQuery = makeUrlWithQuery;/**    Determines if an object is empty (has no properties) or not.*/function isEmpty(req, res, next) {    res.locals.isEmpty = function (obj) {        var name;        for (name in obj) {          return false;        }        return true;    };    next();};/**    Adds the query object to locals.*/function setQuery(req, res, next) {  res.locals.query = req.query;  next();};function makeUrlWithQuery(req, res, next) {       res.locals.makeUrlWithQuery = function(name, value) {            var urlObject = url.parse(req.url, true);                if(name && !value) {            urlObject.pathname = name;        } else {            urlObject.query[name] = value;            urlObject.search = null;        }                return url.format(urlObject);    }    next();}