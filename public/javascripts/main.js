$(document).ready( function() {    $('.btn.type').click(function() {        var $this = $(this);        $('input[name="type"]').val($this.data('value'));        $('.btn.type').removeClass('selected')        $this.addClass('selected');    });        $('table.kingdoms td.kingdom').each(function() {        var count = $(this).data('count');        var opacity = 0;                if(count > 0) {            if(count <= 21) {                opacity = 0.3;            } else            if(count <= 42) {                opacity = 0.6;            } else {                opacity = 1;            }        }                $(this).css({            'background-color': 'rgba(114, 113, 85, ' + opacity + ')'        });    });        $('table.kingdoms td.kingdom a').hover(        function() {            var $cell = $(this).parent();            $cell.find('div.info-bar').show();            $('.kingdoms td.x-' + $cell.data('x')).addClass('selected');            $('.kingdoms td.y-' + $cell.data('y')).addClass('selected');        }, function() {            var $cell = $(this).parent();            $cell.find('div.info-bar').hide();            $('.kingdoms td.x-' + $cell.data('x')).removeClass('selected');            $('.kingdoms td.y-' + $cell.data('y')).removeClass('selected');    });    });              